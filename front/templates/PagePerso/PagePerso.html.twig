{% extends 'base.html.twig' %}

{% block title %}Page Perso{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/app.css') }}">
{% endblock %}

{% block body %}
    <div class="header">
        <a class="logo" href="http://127.0.0.1:8000/accueil">RÉSEAU IIA</a>
    </div>

<div class="example-wrapper">
    <h1>Profil de : {{ username }}</h1>

    <p>À rejoint le réseau le : {{ userData[0].createdAt|date('d/m/Y') }}</p>

    <h1>Tweets</h1>
    <!-- Liste des tweets -->
    <div class="tweets-list">
        {% for tweet in userTweets %}
            <div class="tweet" style=" border: 1px solid #ddd;background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 15px;">
                <div class="tweet-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <div class="author" style="font-weight: bold; color: #333;">
                        {{ tweet.user }}
                    </div>
                    <div class="date" style="font-size: 12px; color: #777;">
                        {{ tweet.createdAt|date('d/m/Y H:i') }}
                    </div>
                </div>
                <div class="tweet-content" style="font-size: 16px; margin-bottom: 12px;">
                    {{ tweet.content }}
                </div>
                <div class="tweet-actions" style="display: flex; align-items: center; gap: 10px;">
                    <form method="post" action="{{ path('like_tweet', {'id': tweet.id}) }}" style="margin:0;">
                        <button type="submit" style="background: none; border: none; color: #1DA1F2; cursor: pointer; font-weight: bold;">
                            ❤️ {{ tweet.likes|default(0) }}
                        </button>
                    </form>
                </div>
            </div>
        {% else %}
            <p>Aucun tweet trouvé.</p>
        {% endfor %}


    </div>
</div>
{% endblock %}
